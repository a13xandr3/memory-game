{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nexport class ContadorRegressivoComponent {\n  constructor(router) {\n    this.router = router;\n    this.totalSegundos = 5500;\n    this.segundosRestantes = this.totalSegundos;\n    this.percentual = 100;\n    this.iniciarContagem();\n  }\n  ngOnInit() {}\n  ngOnDestroy() {\n    if (this.intervalId) {\n      clearInterval(this.intervalId);\n    }\n  }\n  iniciarContagem() {\n    this.segundosRestantes = this.totalSegundos;\n    this.percentual = 100;\n    this.intervalId = setInterval(() => {\n      if (this.segundosRestantes > 0) {\n        this.segundosRestantes--;\n        this.percentual = this.segundosRestantes / this.totalSegundos * 100;\n      } else {\n        clearInterval(this.intervalId);\n        this.showScreenGameOver();\n      }\n    }, 1000);\n  }\n  showScreenGameOver() {\n    this.router.navigate(['game-over']);\n  }\n  static {\n    this.ɵfac = function ContadorRegressivoComponent_Factory(t) {\n      return new (t || ContadorRegressivoComponent)(i0.ɵɵdirectiveInject(i1.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ContadorRegressivoComponent,\n      selectors: [[\"app-contador-regressivo\"]],\n      decls: 5,\n      vars: 7,\n      consts: [[1, \"container\", \"mt-4\", \"mb-4\"], [1, \"progress\"], [\"title\", \"percentual\", \"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"progress-bar-striped\"]],\n      template: function ContadorRegressivoComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵtext(3);\n          i0.ɵɵpipe(4, \"number\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵstyleProp(\"width\", ctx.percentual, \"%\");\n          i0.ɵɵattribute(\"aria-valuenow\", ctx.percentual);\n          i0.ɵɵadvance(1);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 4, ctx.percentual, \"1.0-0\"), \"% \");\n        }\n      },\n      dependencies: [i2.DecimalPipe],\n      styles: [\".progress[_ngcontent-%COMP%] {\\n  --bs-progress-height: 2rem !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29udGFkb3ItcmVncmVzc2l2by9jb250YWRvci1yZWdyZXNzaXZvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFJO0VBQ0kscUNBQUE7QUFDUiIsInNvdXJjZXNDb250ZW50IjpbIiAgICAucHJvZ3Jlc3Mge1xuICAgICAgICAtLWJzLXByb2dyZXNzLWhlaWdodDogMnJlbSAhaW1wb3J0YW50O1xuICAgIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;AAQA,OAAM,MAAOA,2BAA2B;EAQtCC,YAAoBC,MAAc;IAAd,WAAM,GAANA,MAAM;IAN1B,kBAAa,GAAG,IAAI;IACpB,sBAAiB,GAAG,IAAI,CAACC,aAAa;IACtC,eAAU,GAAG,GAAG;IAKZ,IAAI,CAACC,eAAe,EAAE;EAC1B;EAEAC,QAAQ,IAAU;EAElBC,WAAW;IACT,IAAK,IAAI,CAACC,UAAU,EAAG;MACrBC,aAAa,CAAC,IAAI,CAACD,UAAU,CAAC;;EAElC;EAEAH,eAAe;IACb,IAAI,CAACK,iBAAiB,GAAG,IAAI,CAACN,aAAa;IAC3C,IAAI,CAACO,UAAU,GAAG,GAAG;IACrB,IAAI,CAACH,UAAU,GAAGI,WAAW,CAAC,MAAK;MACjC,IAAI,IAAI,CAACF,iBAAiB,GAAG,CAAC,EAAE;QAC9B,IAAI,CAACA,iBAAiB,EAAE;QACxB,IAAI,CAACC,UAAU,GAAI,IAAI,CAACD,iBAAiB,GAAG,IAAI,CAACN,aAAa,GAAI,GAAG;OACtE,MAAM;QACLK,aAAa,CAAC,IAAI,CAACD,UAAU,CAAC;QAC9B,IAAI,CAACK,kBAAkB,EAAE;;IAE7B,CAAC,EAAE,IAAI,CAAC;EACV;EAEAA,kBAAkB;IAChB,IAAI,CAACV,MAAM,CAACW,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;EACrC;;;uBApCWb,2BAA2B;IAAA;EAAA;;;YAA3BA,2BAA2B;MAAAc;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCRxCC,8BAAiC;UAUrBA,YACJ;;UAAAA,iBAAM;;;UALFA,eAA4B;UAA5BA,4CAA4B;UAG5BA,+CAAiC;UACjCA,eACJ;UADIA,+EACJ","names":["ContadorRegressivoComponent","constructor","router","totalSegundos","iniciarContagem","ngOnInit","ngOnDestroy","intervalId","clearInterval","segundosRestantes","percentual","setInterval","showScreenGameOver","navigate","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/Users/alexandreesteves/angular/memory-game/src/app/contador-regressivo/contador-regressivo.component.ts","/Users/alexandreesteves/angular/memory-game/src/app/contador-regressivo/contador-regressivo.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-contador-regressivo',\n  templateUrl: './contador-regressivo.component.html',\n  styleUrls: ['./contador-regressivo.component.scss']\n})\nexport class ContadorRegressivoComponent implements OnInit, OnDestroy {\n\n  totalSegundos = 5500;\n  segundosRestantes = this.totalSegundos;\n  percentual = 100;\n\n  private intervalId: any;\n\n  constructor(private router: Router) {\n      this.iniciarContagem();\n  }\n\n  ngOnInit(): void {}\n\n  ngOnDestroy(): void {\n    if ( this.intervalId ) {\n      clearInterval(this.intervalId);\n    }\n  }\n\n  iniciarContagem(): void {\n    this.segundosRestantes = this.totalSegundos;\n    this.percentual = 100;\n    this.intervalId = setInterval(() => {\n      if (this.segundosRestantes > 0) {\n        this.segundosRestantes--;\n        this.percentual = (this.segundosRestantes / this.totalSegundos) * 100;\n      } else {\n        clearInterval(this.intervalId);\n        this.showScreenGameOver();\n      }\n    }, 1000);\n  }\n\n  showScreenGameOver(): void {\n    this.router.navigate(['game-over']);\n  }\n\n}","<div class=\"container mt-4 mb-4\">\n    <div class=\"progress\">\n        <div \n            title=\"percentual\"\n            class=\"progress-bar progress-bar-striped\" \n            role=\"progressbar\" \n            [style.width.%]=\"percentual\"\n            aria-valuemin=\"0\" \n            aria-valuemax=\"100\"\n            [attr.aria-valuenow]=\"percentual\">\n            {{ percentual | number:'1.0-0' }}%\n        </div>\n    </div>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}